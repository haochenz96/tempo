<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Reference resources | Vaporware</title>
    <meta name="description" content="Computational Pipeline for Whole-Genome and Whole-Exome Sequencing">
    
    
    <link rel="preload" href="/assets/css/0.styles.d4613532.css" as="style"><link rel="preload" href="/assets/js/app.2b579abf.js" as="script"><link rel="preload" href="/assets/js/2.e10afc37.js" as="script"><link rel="preload" href="/assets/js/15.dc8f5479.js" as="script"><link rel="prefetch" href="/assets/js/10.01ffc8cf.js"><link rel="prefetch" href="/assets/js/11.e78ae733.js"><link rel="prefetch" href="/assets/js/12.77745fbe.js"><link rel="prefetch" href="/assets/js/13.4943b92b.js"><link rel="prefetch" href="/assets/js/14.04cc32f4.js"><link rel="prefetch" href="/assets/js/16.839c34d9.js"><link rel="prefetch" href="/assets/js/17.5b7bd133.js"><link rel="prefetch" href="/assets/js/18.fedd8970.js"><link rel="prefetch" href="/assets/js/19.81834ef1.js"><link rel="prefetch" href="/assets/js/20.63f9a4f8.js"><link rel="prefetch" href="/assets/js/21.05021021.js"><link rel="prefetch" href="/assets/js/3.cd2560e0.js"><link rel="prefetch" href="/assets/js/4.253b9be8.js"><link rel="prefetch" href="/assets/js/5.70f8d865.js"><link rel="prefetch" href="/assets/js/6.f8c136e9.js"><link rel="prefetch" href="/assets/js/7.22b6c02c.js"><link rel="prefetch" href="/assets/js/8.f17d8fa6.js"><link rel="prefetch" href="/assets/js/9.f50389f8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d4613532.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/vaporware_stairs.jpg" alt="Vaporware" class="logo"> <span class="site-name can-hide">Vaporware</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/mskcc/vaporware" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/mskcc/vaporware" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">Home</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Setup</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/installation.html" class="sidebar-link">Installation</a></li><li><a href="/juno-setup.html" class="sidebar-link">Juno Setup</a></li><li><a href="/aws-setup.html" class="sidebar-link">AWS Setup</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Usage</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/running-the-pipeline.html" class="sidebar-link">Running the Pipeline</a></li><li><a href="/nextflow-basics.html" class="sidebar-link">Nextflow Basics</a></li><li><a href="/working-with-containers.html" class="sidebar-link">Working With Containers</a></li></ul></section></li><li><a href="/outputs.html" class="sidebar-link">Outputs</a></li><li><a href="/bioinformatics-components.html" class="sidebar-link">Bioinformatics Components</a></li><li><a href="/reference-resources.html" class="active sidebar-link">Reference resources</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reference-resources.html#genome-assembly" class="sidebar-link">Genome Assembly</a></li><li class="sidebar-sub-header"><a href="/reference-resources.html#genomic-intervals" class="sidebar-link">Genomic Intervals</a></li><li class="sidebar-sub-header"><a href="/reference-resources.html#repeatmasker-and-mappability-blacklist" class="sidebar-link">RepeatMasker and Mappability Blacklist</a></li><li class="sidebar-sub-header"><a href="/reference-resources.html#preferred-transcript-isoforms" class="sidebar-link">Preferred Transcript Isoforms</a></li><li class="sidebar-sub-header"><a href="/reference-resources.html#hotspot-annotation" class="sidebar-link">Hotspot Annotation</a></li><li class="sidebar-sub-header"><a href="/reference-resources.html#oncokb" class="sidebar-link">OncoKB</a></li><li class="sidebar-sub-header"><a href="/reference-resources.html#structural-variant-calling" class="sidebar-link">Structural Variant Calling</a></li></ul></li><li><a href="/variant-annotation-and-filtering.html" class="sidebar-link">Variant Annotation and Filtering</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Help and Other Resources</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/troubleshooting.html" class="sidebar-link">Troubleshooting</a></li><li><a href="/aws-glossary.html" class="sidebar-link">AWS Glossary</a></li><li><a href="/contributing-to-vaporware.html" class="sidebar-link">Contributing to Vaporware</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="reference-resources"><a href="#reference-resources" aria-hidden="true" class="header-anchor">#</a> Reference resources</h1> <p>This and associated pages under the <strong>2.2. Reference Resources</strong> section provides details on provenance and generation of all reference files used in <code>pipeline.nf</code>. Usage of these files is defined in the <a href="../conf/references.config">references configuration file</a>.</p> <h2 id="genome-assembly"><a href="#genome-assembly" aria-hidden="true" class="header-anchor">#</a> Genome Assembly</h2> <p>Part of the <a href="https://software.broadinstitute.org/gatk/download/bundle" target="_blank" rel="noopener noreferrer">GATK bundle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, also available <a href="https://console.cloud.google.com/storage/browser/gatk-legacy-bundles/b37" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Vaporware uses the <strong>human_g1k_v37_decoy</strong> assembly of the genome.</p> <h2 id="genomic-intervals"><a href="#genomic-intervals" aria-hidden="true" class="header-anchor">#</a> Genomic Intervals</h2> <h3 id="exome-capture-platforms"><a href="#exome-capture-platforms" aria-hidden="true" class="header-anchor">#</a> Exome Capture Platforms</h3> <p>For exomes, use BED file corresponding to the platform used for target capture. Currently, Vaporware supports:</p> <ul><li><strong>AgilentExon_51MB</strong>: SureSelectXT Human All Exon V4 from Agilent.</li> <li><strong>IDT_Exome</strong>: xGen Exome Research Panel v1.0 from IDT.</li></ul> <p>The bait and target files are provided by the kit manufacturer. These are used to estimate bait- and target-level coverage metrics as well as for variant calling.</p> <p>We add 5 bp to each end of exons in the target file to make sure splice site mutations can be called:</p> <div class="language-shell extra-class"><pre class="language-text"><code>bedtools slop \
    -g b37.chrom.sizes \
    -i targets.bed \
    -r 5 \
    -l 5 \
    &gt; targets.plus5bp.bed
</code></pre></div><h3 id="callable-regions-for-genomes"><a href="#callable-regions-for-genomes" aria-hidden="true" class="header-anchor">#</a> Callable Regions for Genomes</h3> <p>For genomes, a list of &quot;callable&quot; regions from GATK's bundle is used. This is converted from an interval list to a BED file:</p> <div class="language-shell extra-class"><pre class="language-text"><code>gatk IntervalListToBed --INPUT b37_wgs_calling_regions.v1.interval_list --OUTPUT b37_wgs_calling_regions.v1.bed
</code></pre></div><h2 id="repeatmasker-and-mappability-blacklist"><a href="#repeatmasker-and-mappability-blacklist" aria-hidden="true" class="header-anchor">#</a> RepeatMasker and Mappability Blacklist</h2> <p>BED files with genomic repeat and mappability information are used to annotate the VCFs with somatic and germline SNV/indels. These data are from <a href="http://www.repeatmasker.org/" target="_blank" rel="noopener noreferrer">RepeatMasker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and the <a href="http://rohsdb.cmb.usc.edu/GBshape/ENCODE/index.html" target="_blank" rel="noopener noreferrer">ENCODE consortium<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, and the files are retrieved from the <a href="https://genome.ucsc.edu" target="_blank" rel="noopener noreferrer">UCSC Genome Browser<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and parsed as such:</p> <div class="language-shell extra-class"><pre class="language-text"><code>wget http://hgdownload.cse.ucsc.edu/goldenPath/hg19/database/rmsk.txt.gz
gunzip rmsk.txt.gz
cut -f6-8,12 rmsk.txt | \
    grep -e &quot;Low_complexity&quot; -e &quot;Simple_repeat&quot; | \
    sed 's/^chr//g'&gt; rmsk_mod.bed
bgzip rmsk_mod.bed
tabix --preset bed rmsk_mod.bed.gz

wget http://hgdownload.cse.ucsc.edu/goldenPath/hg19/encodeDCC/wgEncodeMapability/wgEncodeDacMapabilityConsensusExcludable.bed.gz
gunzip wgEncodeDacMapabilityConsensusExcludable.bed.gz
sed -i 's/^chr//g' wgEncodeDacMapabilityConsensusExcludable.bed
bgzip wgEncodeDacMapabilityConsensusExcludable.bed
tabix --preset bed wgEncodeDacMapabilityConsensusExcludable.bed.gz
</code></pre></div><h2 id="preferred-transcript-isoforms"><a href="#preferred-transcript-isoforms" aria-hidden="true" class="header-anchor">#</a> Preferred Transcript Isoforms</h2> <p>The <code>--custom-enst</code> argument to vcf2maf takes a list of preferred gene transcript isoforms which mutations are mapped onto. We supply a consensus list of <a href="https://github.com/mskcc/vcf2maf/tree/master/data" target="_blank" rel="noopener noreferrer"><code>isoform_overrides_at_mskcc</code> and <code>isoform_overrides_uniprot</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, generated as such:</p> <div class="language-r extra-class"><pre class="language-r"><code>t1 <span class="token operator">=</span> readr<span class="token operator">::</span>read_tsv<span class="token punctuation">(</span><span class="token string">'isoform_overrides_at_mskcc'</span><span class="token punctuation">)</span>
t2 <span class="token operator">=</span> readr<span class="token operator">::</span>read_tsv<span class="token punctuation">(</span><span class="token string">'isoform_overrides_uniprot'</span><span class="token punctuation">)</span>
t2 <span class="token percent-operator operator">%&gt;%</span>
    dplyr<span class="token operator">::</span>filter<span class="token punctuation">(</span>gene_name <span class="token percent-operator operator">%nin%</span> t1<span class="token operator">$</span>gene_name<span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span>
    dplyr<span class="token operator">::</span>bind_rows<span class="token punctuation">(</span>.<span class="token punctuation">,</span> t1<span class="token punctuation">)</span> <span class="token percent-operator operator">%&gt;%</span>
    readr<span class="token operator">::</span>write_tsv<span class="token punctuation">(</span><span class="token string">'isoforms'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="hotspot-annotation"><a href="#hotspot-annotation" aria-hidden="true" class="header-anchor">#</a> Hotspot Annotation</h2> <p>Three types of mutation hotspots are annotated in the somatic MAF. These include SNV, indel in linear space as well as SNV hotspots in 3D space. These are annotated with the <a href="https://github.com/taylor-lab/annotateMaf" target="_blank" rel="noopener noreferrer">annotateMaf package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="oncokb"><a href="#oncokb" aria-hidden="true" class="header-anchor">#</a> OncoKB</h2> <p>Functional mutation effects and predicted oncogenicity of variants, as well as level of clinical actionability are from <a href="https://oncokb.org" target="_blank" rel="noopener noreferrer">OncoKB<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and annotated using the <a href="https://github.com/oncokb/oncokb-annotator" target="_blank" rel="noopener noreferrer">OncoKB annotator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="structural-variant-calling"><a href="#structural-variant-calling" aria-hidden="true" class="header-anchor">#</a> Structural Variant Calling</h2> <p>Delly provides and takes as an argument a <a href="https://github.com/dellytools/delly/tree/master/excludeTemplates" target="_blank" rel="noopener noreferrer">file of regions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to <em>exclude</em> from variant calling. This excludes telomeres and centromeres from auto- and allosomes as well as any other contig.</p> <p>For Manta, subtract these regions from a bed file of the whole genome to generate a list of regions to <em>include</em>. First clean up the file provided by Delly, since it is not in <code>bed</code> format:</p> <div class="language-shell extra-class"><pre class="language-text"><code>grep -Ev &quot;chr|MT|GL00|NC|hs37d5&quot; human.hg19.excl.tsv &gt; human.hg19.excl.clean.bed
bedtools subtract -a b37.bed -b human.hg19.excl.clean.bed &gt; b37.minusDellyExclude.bed
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/bioinformatics-components.html" class="prev">
          Bioinformatics Components
        </a></span> <span class="next"><a href="/variant-annotation-and-filtering.html">
          Variant Annotation and Filtering
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2b579abf.js" defer></script><script src="/assets/js/2.e10afc37.js" defer></script><script src="/assets/js/15.dc8f5479.js" defer></script>
  </body>
</html>
