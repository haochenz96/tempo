/*
 * -------------------------------------------------
 * Nextflow config 
 * -------------------------------------------------
 * Images for every process
 * "docker://" prefix for singularity obsolete in newer NF versions
 * -------------------------------------------------
 */

 process {
  withName:AlignReads {
    container = "cmopipeline/bwa-samtools-gatk4-sambamba-samblaster:latest"
  }
  withName:ConvertSAMtoBAM {
    container = "quay.io/cancercollaboratory/dockstore-tool-samtools-view:1.0"
  }
  withName:SortBAM {
    container = "cmopipeline/bwa-samtools-gatk4-sambamba-samblaster:latest"
  }
  withName:MergeBams {
    container = "cmopipeline/bwa-samtools-gatk4-sambamba-samblaster:latest"
  }
  withName:MarkDuplicates {
    // Actually the -Xmx value should be kept lower,
    // and is set through the markdup_java_options; cf https://github.com/SciLifeLab/Sarek/blob/master/conf/resources.config#L31
    container = "broadinstitute/gatk:latest"
  }
  withName:CreateRecalibrationTable {
    container = "broadinstitute/gatk:latest"
  }
  withName:RecalibrateBam {
    container = "broadinstitute/gatk:latest"
  }
  withName:Alfred {
    container = "sinisa88/alfred:v0.1.17"
  }
  withName:doSNPPileup {
    container = "cmopipeline/htstools:0.1.1"
  }
  withName:doFacets {
    container = "cmopipeline/facets-suite:1.5.6"
  } 
  withName:DellyCall {
    container = "cmopipeline/delly:v0.8.1"
  }
  withName:DellyFilter {
    container = "cmopipeline/delly:v0.8.1"
  }
  withName:MakeSamplesFile {
    container = "ubuntu:latest"
  }
  withName:CreateScatteredIntervals {
    container = "broadinstitute/gatk:latest"
  }
  withName:RunMutect2 {
    container = "broadinstitute/gatk:latest"
  }
  withName:IndexVcf {
    container = "cmopipeline/tabix:latest"
  }
  withName:RunMutect2Filter {
    container = "broadinstitute/gatk:latest"
  }
  withName:CombineMutect2Vcf {
    container = "halllab/bcftools:v1.9"
  }
  withName:RunManta {
    container = "cmopipeline/strelka2_manta:latest" 
  }
  withName:RunStrelka2 {
    container = "cmopipeline/strelka2_manta:latest"
  }
  withName:CombineChannel {
    container = "ubuntu:latest"
  }
  withName:RunBCFToolsFilterNorm {
    container = "halllab/bcftools:v1.9"
  }
  withName:RunBCFToolsMerge {
    container = "halllab/bcftools:v1.9"
  }
  withName:RunMsiSensor {
    container = "vanallenlab/msisensor:0.5"
  }
  withName:RunLumpyExpress {
    container = "cmopipeline/lumpyexpress:0.3.0"
  }
}
